{% extends 'layout.html' %}

{% block styles%} 
    {% include 'partials/tinymce.html' %}
{% endblock%}

{% block content %}

<h3 class="title">{{ title }}</h3>
<form action="" method="POST">
    <legend class="border-bottom mb=4"></legend>
        {{ form.hidden_tag()}}
    <fieldset class=uk-fieldset>
        
        <!---TITLE + VALIDATION -->
        <div class="uk-margin">
            {% if form.title.errors %}
                {{ form.title(class="uk-input uk-form-small uk-form-danger")}}
                <div class="uk-text-small uk-text-danger">
                    {% for errors in form.title.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.title(class="uk-input uk-form-small")}}
            {% endif %}
        </div>
        
        <!-- PROJECT URL + VALIDATION -->
        <div class="uk-margin">
            {% if form.project_url.errors %}
                {{ form.project_url(class="uk-input uk-form-small uk-form-danger")}}
                <div class="uk-text-small uk-text-danger">
                    {% for errors in form.project_url.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.project_url(class="uk-input uk-form-small")}}
            {% endif %}
        </div>

        <!-- GITHUB URL -->
        <div class="uk-margin">
            {% if form.github_url.errors %}
                {{ form.github_url(class="uk-input uk-form-small uk-form-danger")}}
                <div class="uk-text-small uk-text-danger">
                    {% for errors in form.github_url.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.github_url(class="uk-input uk-form-small")}}
            {% endif %}
        </div>

        <!-- DESCRIPTION -->
        <div class="uk-margin">
            {% if form.description.errors %}
                <div class="uk-text-small uk-text-danger">
                    {% for error in form.description.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {{ form.description(class="uk-textarea uk-form-danger mytextarea")}}
            {% else %}
                {{ form.description(class="uk-textarea mytextarea") }}
            {% endif %}
        </div>

        <div>
            {{ form.submit(class="uk-button uk-button-default")}}
        </div>   
    </fieldset>
</form>

    <!-- FLASH MESSAGES -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class = "uk-alert-{{ category }} uk-alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    {% endwith %}

{% endblock %}